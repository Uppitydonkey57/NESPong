;
; File generated by cc65 v 2.18 - Debian 2.19-1
;
	.fopt		compiler,"cc65 v 2.18 - Debian 2.19-1"
	.setcpu		"6502"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.export		_draw_background_line
	.export		_draw_title_screen
	.export		_refresh_palettes
	.importzp	_ctrl2
	.importzp	_ctrl1
	.import		_draw_meta_sprite
	.import		_draw_sprite
	.import		_clear_oam
	.import		_clear_nametable
	.import		_set_nametable_address
	.import		_ppu_off
	.import		_ppu_on
	.import		_set_scroll
	.import		_set_ppu_addr
	.import		_write_ppu_data
	.import		_draw_nametable_string
	.import		_set_palettes
	.export		_standard
	.export		_purple
	.export		_red
	.export		_blue
	.export		_palette_names
	.export		_palette_name_lengths
	.export		_paddle
	.export		_paddle1y
	.export		_paddle2y
	.export		_ballx
	.export		_bally
	.export		_ball_direction
	.export		_score1
	.export		_score2
	.export		_scroll_y
	.export		_for_iter
	.export		_game_over
	.export		_in_game
	.export		_selected_button
	.export		_up_button_held_title
	.export		_down_button_held_title
	.export		_left_button_held_title
	.export		_right_button_held_title
	.export		_current_palette
	.export		_init
	.export		_draw
	.export		_update

.segment	"DATA"

.segment	"ZEROPAGE"
_ball_direction:
	.byte	$00
.segment	"DATA"

.segment	"RODATA"

_standard:
	.byte	$36
	.byte	$03
	.byte	$10
	.byte	$30
	.byte	$22
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$0D
	.byte	$2D
	.byte	$10
	.byte	$30
	.byte	$22
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
_purple:
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
_red:
	.byte	$04
	.byte	$26
	.byte	$05
	.byte	$36
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$04
	.byte	$26
	.byte	$05
	.byte	$36
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
_blue:
	.byte	$21
	.byte	$05
	.byte	$06
	.byte	$16
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$00
	.byte	$01
	.byte	$02
	.byte	$03
	.byte	$21
	.byte	$05
	.byte	$06
	.byte	$16
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
	.byte	$36
	.byte	$03
	.byte	$3B
	.byte	$22
_palette_names:
	.byte	$73,$74,$61,$6E,$64,$61,$72,$64
	.byte	$70,$61,$73,$74,$65,$6C,$00
	.res	1,$00
	.byte	$70,$75,$72,$70,$6C,$65,$00
	.res	1,$00
	.byte	$62,$6C,$75,$65,$00
	.res	3,$00
_palette_name_lengths:
	.byte	$08
	.byte	$06
	.byte	$06
	.byte	$04
_paddle:
	.byte	$00
	.byte	$02
	.byte	$80
	.byte	$00
	.byte	$08
	.byte	$03
	.byte	$00
	.byte	$00
	.byte	$10
	.byte	$03
	.byte	$00
	.byte	$00
	.byte	$18
	.byte	$02
	.byte	$00
	.byte	$00
	.res	16,$00
L0198:
	.byte	$70,$6C,$61,$79,$65,$72,$20,$32,$20,$77,$6F,$6E,$00
L0187:
	.byte	$70,$6C,$61,$79,$65,$72,$20,$31,$20,$77,$6F,$6E,$00
L00D2:
	.byte	$70,$61,$6C,$65,$74,$74,$65,$3A,$20,$00
L00D8:
	.byte	$73,$6F,$6E,$67,$3A,$20,$00
L00CC:
	.byte	$73,$74,$61,$72,$74,$00
L00C6:
	.byte	$70,$6F,$6E,$67,$00

.segment	"BSS"

_paddle1y:
	.res	1,$00
_paddle2y:
	.res	1,$00
_ballx:
	.res	1,$00
_bally:
	.res	1,$00
_score1:
	.res	1,$00
_score2:
	.res	1,$00
_scroll_y:
	.res	1,$00
_for_iter:
	.res	1,$00
_game_over:
	.res	1,$00
_in_game:
	.res	1,$00
_selected_button:
	.res	1,$00
_up_button_held_title:
	.res	1,$00
_down_button_held_title:
	.res	1,$00
_left_button_held_title:
	.res	1,$00
_right_button_held_title:
	.res	1,$00
_current_palette:
	.res	1,$00

; ---------------------------------------------------------------
; void __near__ draw_background_line (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_draw_background_line: near

.segment	"CODE"

;
; ppu_off();
;
	jsr     _ppu_off
;
; clear_nametable();
;
	jsr     _clear_nametable
;
; for (for_iter = 0; for_iter < 30; for_iter++) {
;
	lda     #$00
	sta     _for_iter
L0254:	lda     _for_iter
	cmp     #$1E
	bcs     L00EB
;
; set_nametable_address(16, for_iter, 1);
;
	jsr     decsp2
	lda     #$10
	ldy     #$01
	sta     (sp),y
	lda     _for_iter
	dey
	sta     (sp),y
	lda     #$01
	jsr     _set_nametable_address
;
; for (for_iter = 0; for_iter < 30; for_iter++) {
;
	inc     _for_iter
	jmp     L0254
;
; set_scroll(0, 0);
;
L00EB:	lda     #$00
	jsr     pusha
	jsr     _set_scroll
;
; ppu_on();
;
	jmp     _ppu_on

.endproc

; ---------------------------------------------------------------
; void __near__ draw_title_screen (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_draw_title_screen: near

.segment	"CODE"

;
; ppu_off();
;
	jsr     _ppu_off
;
; clear_nametable();
;
	jsr     _clear_nametable
;
; set_ppu_addr(0x2000);
;
	ldx     #$20
	lda     #$00
	jsr     _set_ppu_addr
;
; write_ppu_data(1);
;
	lda     #$01
	jsr     _write_ppu_data
;
; draw_nametable_string(14,8,"pong",4);
;
	jsr     decsp4
	lda     #$0E
	ldy     #$03
	sta     (sp),y
	lda     #$08
	dey
	sta     (sp),y
	lda     #<(L00C6)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L00C6)
	sta     (sp),y
	lda     #$04
	jsr     _draw_nametable_string
;
; draw_nametable_string(12, 20, "start", 5);
;
	jsr     decsp4
	lda     #$0C
	ldy     #$03
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	lda     #<(L00CC)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L00CC)
	sta     (sp),y
	lda     #$05
	jsr     _draw_nametable_string
;
; draw_nametable_string(12, 22, "palette: ", 9);
;
	jsr     decsp4
	lda     #$0C
	ldy     #$03
	sta     (sp),y
	lda     #$16
	dey
	sta     (sp),y
	lda     #<(L00D2)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L00D2)
	sta     (sp),y
	lda     #$09
	jsr     _draw_nametable_string
;
; draw_nametable_string(12, 24, "song: ", 6);
;
	jsr     decsp4
	lda     #$0C
	ldy     #$03
	sta     (sp),y
	lda     #$18
	dey
	sta     (sp),y
	lda     #<(L00D8)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L00D8)
	sta     (sp),y
	lda     #$06
	jsr     _draw_nametable_string
;
; draw_nametable_string(21, 22, palette_names[current_palette], palette_name_lengths[current_palette]);
;
	jsr     decsp4
	lda     #$15
	ldy     #$03
	sta     (sp),y
	lda     #$16
	dey
	sta     (sp),y
	ldx     #$00
	lda     _current_palette
	jsr     aslax3
	clc
	adc     #<(_palette_names)
	tay
	txa
	adc     #>(_palette_names)
	tax
	tya
	ldy     #$00
	sta     (sp),y
	iny
	txa
	sta     (sp),y
	ldy     _current_palette
	lda     _palette_name_lengths,y
	jsr     _draw_nametable_string
;
; set_scroll(0,0);
;
	lda     #$00
	jsr     pusha
	jsr     _set_scroll
;
; ppu_on();
;
	jmp     _ppu_on

.endproc

; ---------------------------------------------------------------
; void __near__ refresh_palettes (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_refresh_palettes: near

.segment	"CODE"

;
; switch(current_palette) {
;
	lda     _current_palette
;
; }
;
	beq     L00FF
	cmp     #$01
	beq     L0104
	cmp     #$02
	beq     L0109
	cmp     #$03
	beq     L010E
	jmp     L00FD
;
; set_palettes(standard.foreground, standard.background);
;
L00FF:	lda     #<(_standard)
	ldx     #>(_standard)
	jsr     pushax
	lda     #<(_standard+16)
	ldx     #>(_standard+16)
;
; break;
;
	jmp     L0255
;
; set_palettes(purple.foreground, purple.background);
;
L0104:	lda     #<(_purple)
	ldx     #>(_purple)
	jsr     pushax
	lda     #<(_purple+16)
	ldx     #>(_purple+16)
;
; break;
;
	jmp     L0255
;
; set_palettes(red.foreground, red.background);
;
L0109:	lda     #<(_red)
	ldx     #>(_red)
	jsr     pushax
	lda     #<(_red+16)
	ldx     #>(_red+16)
;
; break;
;
	jmp     L0255
;
; set_palettes(blue.foreground, blue.background);
;
L010E:	lda     #<(_blue)
	ldx     #>(_blue)
	jsr     pushax
	lda     #<(_blue+16)
	ldx     #>(_blue+16)
L0255:	jsr     _set_palettes
;
; ppu_off();
;
L00FD:	jsr     _ppu_off
;
; draw_nametable_string(21, 22, palette_names[current_palette], sizeof(palette_names[current_palette]));
;
	jsr     decsp4
	lda     #$15
	ldy     #$03
	sta     (sp),y
	lda     #$16
	dey
	sta     (sp),y
	ldx     #$00
	lda     _current_palette
	jsr     aslax3
	clc
	adc     #<(_palette_names)
	tay
	txa
	adc     #>(_palette_names)
	tax
	tya
	ldy     #$00
	sta     (sp),y
	iny
	txa
	sta     (sp),y
	lda     #$08
	jsr     _draw_nametable_string
;
; set_scroll(0,0);
;
	lda     #$00
	jsr     pusha
	jsr     _set_scroll
;
; ppu_on();
;
	jmp     _ppu_on

.endproc

; ---------------------------------------------------------------
; void __near__ init (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_init: near

.segment	"CODE"

;
; paddle1y = 104;
;
	lda     #$68
	sta     _paddle1y
;
; paddle2y = 104;
;
	sta     _paddle2y
;
; ballx = 124;
;
	lda     #$7C
	sta     _ballx
;
; bally = 104;
;
	lda     #$68
	sta     _bally
;
; ball_direction = DOWN_RIGHT;
;
	lda     #$03
	sta     _ball_direction
;
; score1 = 0x30;
;
	lda     #$30
	sta     _score1
;
; score2 = 0x30;
;
	sta     _score2
;
; set_palettes(standard.foreground, standard.background);
;
	lda     #<(_standard)
	ldx     #>(_standard)
	jsr     pushax
	lda     #<(_standard+16)
	ldx     #>(_standard+16)
	jsr     _set_palettes
;
; draw_title_screen();
;
	jmp     _draw_title_screen

.endproc

; ---------------------------------------------------------------
; void __near__ draw (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_draw: near

.segment	"CODE"

;
; }
;
	rts

.endproc

; ---------------------------------------------------------------
; void __near__ update (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_update: near

.segment	"CODE"

;
; if (!in_game) {
;
	lda     _in_game
	jne     L0120
;
; if (ctrl1 & A_BTN && selected_button == 0) {
;
	lda     _ctrl1
	and     #$80
	beq     L0263
	lda     _selected_button
	bne     L0263
;
; in_game = 1;
;
	lda     #$01
	sta     _in_game
;
; draw_background_line();
;
	jsr     _draw_background_line
;
; if (ctrl1 & DOWN_BTN && !up_button_held_title) {
;
L0263:	lda     _ctrl1
	and     #$04
	beq     L0267
	lda     _up_button_held_title
	bne     L0267
;
; up_button_held_title = 1;
;
	lda     #$01
	sta     _up_button_held_title
;
; ++selected_button;
;
	inc     _selected_button
;
; if (selected_button > 2) {
;
	lda     _selected_button
	cmp     #$03
	bcc     L0268
;
; selected_button = 0;
;
	lda     #$00
	sta     _selected_button
;
; } else if (!(ctrl1 & DOWN_BTN)) {
;
	jmp     L0268
L0267:	lda     _ctrl1
	and     #$04
	bne     L0268
;
; up_button_held_title = 0;
;
	sta     _up_button_held_title
;
; if (ctrl1 & UP_BTN && !down_button_held_title) {
;
L0268:	lda     _ctrl1
	and     #$08
	beq     L026C
	lda     _down_button_held_title
	bne     L026C
;
; down_button_held_title = 1;
;
	lda     #$01
	sta     _down_button_held_title
;
; --selected_button;
;
	dec     _selected_button
;
; if (selected_button == 255) {
;
	lda     _selected_button
	cmp     #$FF
	bne     L026D
;
; selected_button = 2;
;
	lda     #$02
	sta     _selected_button
;
; } else if (!(ctrl1 & UP_BTN)) {
;
	jmp     L026D
L026C:	lda     _ctrl1
	and     #$08
	bne     L026D
;
; down_button_held_title = 0;
;
	sta     _down_button_held_title
;
; if (ctrl1 & LEFT_BTN && !left_button_held_title) {
;
L026D:	lda     _ctrl1
	and     #$02
	beq     L0272
	lda     _left_button_held_title
	bne     L0272
;
; if (selected_button == 1) {
;
	lda     _selected_button
	cmp     #$01
	bne     L0271
;
; --current_palette;
;
	dec     _current_palette
;
; if (current_palette == 255) current_palette = PALETTE_COUNT-1;
;
	lda     _current_palette
	cmp     #$FF
	bne     L0152
	lda     #$03
	sta     _current_palette
;
; refresh_palettes();
;
L0152:	jsr     _refresh_palettes
;
; left_button_held_title = 1;
;
L0271:	lda     #$01
;
; } else if (!(ctrl1 & LEFT_BTN)) {
;
	jmp     L0256
L0272:	lda     _ctrl1
	and     #$02
	bne     L0273
;
; left_button_held_title = 0;
;
L0256:	sta     _left_button_held_title
;
; if (ctrl1 & RIGHT_BTN && !right_button_held_title) {
;
L0273:	lda     _ctrl1
	and     #$01
	beq     L0278
	lda     _right_button_held_title
	bne     L0278
;
; if (selected_button == 1) {
;
	lda     _selected_button
	cmp     #$01
	bne     L0277
;
; ++current_palette;
;
	inc     _current_palette
;
; if (current_palette == PALETTE_COUNT) current_palette = 0;
;
	lda     _current_palette
	cmp     #$04
	bne     L0166
	lda     #$00
	sta     _current_palette
;
; refresh_palettes();
;
L0166:	jsr     _refresh_palettes
;
; right_button_held_title = 1;
;
L0277:	lda     #$01
;
; } else if (!(ctrl1 & RIGHT_BTN)) {
;
	jmp     L0257
L0278:	lda     _ctrl1
	and     #$01
	bne     L016E
;
; right_button_held_title = 0;
;
L0257:	sta     _right_button_held_title
;
; clear_oam();
;
L016E:	jsr     _clear_oam
;
; draw_sprite(80, 160 + (selected_button * 16), 0, 1);
;
	jsr     decsp3
	lda     #$50
	ldy     #$02
	sta     (sp),y
	lda     _selected_button
	asl     a
	asl     a
	asl     a
	asl     a
	clc
	adc     #$A0
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     #$01
	jmp     _draw_sprite
;
; scroll_y -= 1;
;
L0120:	dec     _scroll_y
;
; if (score1 > 0x39 && game_over == 0) {
;
	lda     _score1
	cmp     #$3A
	bcc     L027C
	lda     _game_over
	bne     L027C
;
; game_over = 1;
;
	lda     #$01
	sta     _game_over
;
; ppu_off();
;
	jsr     _ppu_off
;
; draw_nametable_string(10,16, "player 1 won", 12);
;
	jsr     decsp4
	lda     #$0A
	ldy     #$03
	sta     (sp),y
	lda     #$10
	dey
	sta     (sp),y
	lda     #<(L0187)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L0187)
	sta     (sp),y
	lda     #$0C
	jsr     _draw_nametable_string
;
; set_scroll(0, 0);
;
	lda     #$00
	jsr     pusha
	jsr     _set_scroll
;
; ppu_on();
;
	jsr     _ppu_on
;
; if (score2 > 0x39 && game_over == 0) {
;
L027C:	lda     _score2
	cmp     #$3A
	bcc     L018E
	lda     _game_over
	bne     L018E
;
; game_over = 1;
;
	lda     #$01
	sta     _game_over
;
; ppu_off();
;
	jsr     _ppu_off
;
; draw_nametable_string(10,16, "player 2 won", 12);
;
	jsr     decsp4
	lda     #$0A
	ldy     #$03
	sta     (sp),y
	lda     #$10
	dey
	sta     (sp),y
	lda     #<(L0198)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(L0198)
	sta     (sp),y
	lda     #$0C
	jsr     _draw_nametable_string
;
; set_scroll(0, 0);
;
	lda     #$00
	jsr     pusha
	jsr     _set_scroll
;
; ppu_on();
;
	jsr     _ppu_on
;
; clear_oam();
;
L018E:	jsr     _clear_oam
;
; draw_sprite(ballx, bally, 0, 1);
;
	jsr     decsp3
	lda     _ballx
	ldy     #$02
	sta     (sp),y
	lda     _bally
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     #$01
	jsr     _draw_sprite
;
; draw_meta_sprite(20,paddle1y,paddle,32);
;
	jsr     decsp4
	lda     #$14
	ldy     #$03
	sta     (sp),y
	lda     _paddle1y
	dey
	sta     (sp),y
	lda     #<(_paddle)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(_paddle)
	sta     (sp),y
	lda     #$20
	jsr     _draw_meta_sprite
;
; draw_meta_sprite(228,paddle2y,paddle,32);
;
	jsr     decsp4
	lda     #$E4
	ldy     #$03
	sta     (sp),y
	lda     _paddle2y
	dey
	sta     (sp),y
	lda     #<(_paddle)
	ldy     #$00
	sta     (sp),y
	iny
	lda     #>(_paddle)
	sta     (sp),y
	lda     #$20
	jsr     _draw_meta_sprite
;
; if (score1 < 0x39) { 
;
	lda     _score1
	cmp     #$39
	bcs     L01AF
;
; draw_sprite(64,20,0,score1);
;
	jsr     decsp3
	lda     #$40
	ldy     #$02
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     _score1
;
; } else {
;
	jmp     L0258
;
; draw_sprite(64,20,0,0x39);
;
L01AF:	jsr     decsp3
	lda     #$40
	ldy     #$02
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     #$39
L0258:	jsr     _draw_sprite
;
; if (score2 < 0x39) { 
;
	lda     _score2
	cmp     #$39
	bcs     L01BC
;
; draw_sprite(192,20,0,score2);
;
	jsr     decsp3
	lda     #$C0
	ldy     #$02
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     _score2
;
; } else {
;
	jmp     L0259
;
; draw_sprite(192,20,0,0x39);
;
L01BC:	jsr     decsp3
	lda     #$C0
	ldy     #$02
	sta     (sp),y
	lda     #$14
	dey
	sta     (sp),y
	lda     #$00
	dey
	sta     (sp),y
	lda     #$39
L0259:	jsr     _draw_sprite
;
; if (game_over) {
;
	lda     _game_over
	beq     L01C9
;
; if (ctrl1 & B_BTN) {
;
	lda     _ctrl1
	and     #$40
	bne     L02A9
;
; }
;
	rts
;
; score1 = 0x30;
;
L02A9:	lda     #$30
	sta     _score1
;
; score2 = 0x30;
;
	sta     _score2
;
; paddle1y = 104;
;
	lda     #$68
	sta     _paddle1y
;
; paddle2y = 104;
;
	sta     _paddle2y
;
; game_over = 0;
;
	lda     #$00
	sta     _game_over
;
; in_game = 0;
;
	sta     _in_game
;
; draw_title_screen();
;
	jmp     _draw_title_screen
;
; if (ctrl1 & DOWN_BTN && paddle1y < 216) {
;
L01C9:	lda     _ctrl1
	and     #$04
	beq     L0283
	lda     _paddle1y
	cmp     #$D8
	bcs     L0283
;
; paddle1y += PADDLE_SPEED;
;
	lda     #$02
	clc
	adc     _paddle1y
	sta     _paddle1y
;
; if (ctrl1 & UP_BTN && paddle1y > 0) {
;
L0283:	lda     _ctrl1
	and     #$08
	beq     L0287
	lda     _paddle1y
	beq     L0287
;
; paddle1y -= PADDLE_SPEED;
;
	sec
	sbc     #$02
	sta     _paddle1y
;
; if (ctrl2 & DOWN_BTN && paddle2y < 216) {
;
L0287:	lda     _ctrl2
	and     #$04
	beq     L028B
	lda     _paddle2y
	cmp     #$D8
	bcs     L028B
;
; paddle2y += PADDLE_SPEED;
;
	lda     #$02
	clc
	adc     _paddle2y
	sta     _paddle2y
;
; if (ctrl2 & UP_BTN && paddle2y > 0) {
;
L028B:	lda     _ctrl2
	and     #$08
	beq     L028F
	lda     _paddle2y
	beq     L028F
;
; paddle2y -= PADDLE_SPEED;
;
	sec
	sbc     #$02
	sta     _paddle2y
;
; if (ballx >= 250) { // change 250 to exact screen boundry
;
L028F:	lda     _ballx
	cmp     #$FA
	bcc     L0290
;
; score1++;
;
	inc     _score1
;
; else if (ballx <= 4) { // change 4 to exact screen boundry
;
	jmp     L02A6
L0290:	lda     _ballx
	cmp     #$05
	bcs     L0291
;
; score2++;
;
	inc     _score2
;
; ballx = 124;
;
L02A6:	lda     #$7C
	sta     _ballx
;
; bally = 104;
;
	lda     #$68
	sta     _bally
;
; if (bally >= 240) {
;
L0291:	lda     _bally
	cmp     #$F0
	bcc     L0294
;
; switch (ball_direction) {
;
	lda     _ball_direction
;
; }
;
	cmp     #$01
	beq     L0292
	cmp     #$03
	beq     L0293
	jmp     L0294
;
; ball_direction = UP_LEFT;
;
L0292:	lda     #$00
;
; break;
;
	jmp     L025B
;
; ball_direction = UP_RIGHT;
;
L0293:	lda     #$02
L025B:	sta     _ball_direction
;
; if (bally <= 6) {
;
L0294:	lda     _bally
	cmp     #$07
	bcs     L0297
;
; switch (ball_direction) {
;
	lda     _ball_direction
;
; }
;
	beq     L0295
	cmp     #$02
	beq     L0296
	jmp     L0297
;
; ball_direction = DOWN_LEFT;
;
L0295:	lda     #$01
;
; break;
;
	jmp     L025C
;
; ball_direction = DOWN_RIGHT;
;
L0296:	lda     #$03
L025C:	sta     _ball_direction
;
; switch (ball_direction) {
;
L0297:	lda     _ball_direction
;
; }
;
	beq     L0298
	cmp     #$01
	beq     L0299
	cmp     #$02
	beq     L029B
	cmp     #$03
	beq     L029C
	jmp     L029D
;
; ballx -= BALL_SPEED;
;
L0298:	lda     _ballx
	sec
	sbc     #$02
	sta     _ballx
;
; bally -= BALL_SPEED;
;
	lda     _bally
	sec
	sbc     #$02
;
; break;
;
	jmp     L025D
;
; ballx -= BALL_SPEED;
;
L0299:	lda     _ballx
	sec
	sbc     #$02
;
; break;
;
	jmp     L02A8
;
; ballx += BALL_SPEED;
;
L029B:	clc
	adc     _ballx
	sta     _ballx
;
; bally -= BALL_SPEED;
;
	lda     _bally
	sec
	sbc     #$02
;
; break;
;
	jmp     L025D
;
; ballx += BALL_SPEED;
;
L029C:	lda     #$02
	clc
	adc     _ballx
L02A8:	sta     _ballx
;
; bally += BALL_SPEED;
;
	lda     #$02
	clc
	adc     _bally
L025D:	sta     _bally
;
; if (ballx <= 26 && bally > paddle1y-4 && bally < paddle1y+36) {
;
L029D:	lda     _ballx
	cmp     #$1B
	bcs     L029F
	lda     _bally
	jsr     pusha0
	lda     _paddle1y
	sec
	sbc     #$04
	bcs     L0239
	ldx     #$FF
L0239:	jsr     tosicmp
	bcc     L029F
	beq     L029F
	lda     _bally
	jsr     pusha0
	lda     _paddle1y
	clc
	adc     #$24
	bcc     L023A
	ldx     #$01
L023A:	jsr     tosicmp
	bcs     L029F
;
; if (bally < paddle1y + 16) {
;
	lda     _bally
	jsr     pusha0
	lda     _paddle1y
	clc
	adc     #$10
	bcc     L023E
	ldx     #$01
L023E:	jsr     tosicmp
	bcs     L023C
;
; ball_direction = UP_RIGHT;
;
	lda     #$02
;
; } else {
;
	jmp     L025E
;
; ball_direction = DOWN_RIGHT;
;
L023C:	lda     #$03
L025E:	sta     _ball_direction
;
; if (ballx >= 220 && bally > paddle2y-4 && bally < paddle2y+36) {
;
L029F:	lda     _ballx
	cmp     #$DC
	bcc     L02A1
	lda     _bally
	jsr     pusha0
	lda     _paddle2y
	sec
	sbc     #$04
	bcs     L0247
	ldx     #$FF
L0247:	jsr     tosicmp
	bcc     L02A1
	beq     L02A1
	lda     _bally
	jsr     pusha0
	lda     _paddle2y
	clc
	adc     #$24
	bcc     L0248
	ldx     #$01
L0248:	jsr     tosicmp
	bcc     L0245
L02A1:	rts
;
; if (bally < paddle2y + 16) {
;
L0245:	lda     _bally
	jsr     pusha0
	lda     _paddle2y
	clc
	adc     #$10
	bcc     L024C
	ldx     #$01
L024C:	jsr     tosicmp
	bcs     L024A
;
; ball_direction = UP_LEFT;
;
	lda     #$00
;
; } else {
;
	jmp     L025F
;
; ball_direction = DOWN_LEFT;
;
L024A:	lda     #$01
L025F:	sta     _ball_direction
;
; asm("rts");
;
	rts

.endproc

